<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, target-densityDpi=device-dpi">
  <!-- (safari) 전화번호 형태로 된 문자열을 전화로 자동호출하지 못하게 함 -->
  <meta name="format-detection" content="telephone=no">

  <!-- css -->
  <link rel="stylesheet" href="resources/css/font.css">
  <link rel="stylesheet" href="resources/css/reset.css">
  <link rel="stylesheet" href="resources/css/teacher_ver_m.css">
  <!-- js -->
  <script type="text/javascript" src="resources/js/jquery-1.11.2.min.js"></script>

  <style>
    .bg_test {
      background:rgba(0,128,0,0.2)!important;
    }
  </style>

  <title>visit timetable</title>
</head>

<body>
  <div id="wrap">
    <div id="header">
      <div class="header_bar">
        <div class="fl">
          <!-- [D] class="hide"를 붙히면 display: none이 됩니다 -->
          <button type="button" class="btn_prev">
            <img src="resources/images/ico_back.svg" alt="뒤로가기">
          </button>
        </div>
        <h1 class="img_box">
          <img src="resources/images/logo_daekyo_kids.svg" alt="대교 상상 키즈 로고">
        </h1>
        <div class="fr">
          <button type="button" class="gnb_open">
            <img src="resources/images/ico_menu.svg" alt="메뉴 열기">
          </button>
        </div>
      </div>
      <div id="gnb">
        <div class="gnb_box gnb_logo">
          <div class="img_box">
            <img src="resources/images/logo_daekyo_kids.svg" alt="대교 상상 키즈 로고">
          </div>
        </div>

        <div class="gnb_box gnb_card">
          <a href="#none" class="card">
            <img src="resources/images/ico_clock.svg" alt="방문시간표">
            <span class="primary_text primary_text_xs">
              방문시간표
            </span>
          </a>

          <a href="#none" class="card">
            <img src="resources/images/ico_schedule.svg" alt="방문관리">
            <span class="primary_text primary_text_xs">
              방문관리
            </span>
          </a>

          <a href="#none" class="card">
            <img src="resources/images/ico_calendar.svg" alt="스케줄 설정">
            <span class="primary_text primary_text_xs">
              스케줄 설정
            </span>
          </a>

          <a href="#none" class="card">
            <img src="resources/images/ico_folder.svg" alt="정산내역">
            <span class="primary_text primary_text_xs">
              정산내역
            </span>
          </a>

          <a href="#none" class="card">
            <img src="resources/images/ico_list.svg" alt="공지사항">
            <span class="primary_text primary_text_xs">
              공지사항
            </span>
          </a>

          <a href="#none" class="card">
            <img src="resources/images/ico_page.svg" alt="자주묻는 질문">
            <span class="primary_text primary_text_xs">
              자주묻는 질문
            </span>
          </a>
        </div>

        <div class="gnb_box gnb_card">
          <a href="#none" class="card">
            <img src="resources/images/ico_profile.svg" alt="My 프로필">
            <span class="primary_text primary_text_xs">
              My&nbsp;&nbsp;프로필
            </span>
          </a>

          <a href="#none" class="card">
            <img src="resources/images/ico_key.svg" alt="비밀번호 변경">
            <span class="primary_text primary_text_xs">
              비밀번호 변경
            </span>
          </a>

          <a href="#none" class="card">
            <img src="resources/images/ico_logout.svg" alt="로그아웃">
            <span class="primary_text primary_text_xs">
              로그아웃
            </span>
          </a>
        </div>

        <div class="gnb_box">
          <a href="resources/video/sample_video.mp4" class="btn_movie">
            <img src="resources/images/ico_play.svg" alt="영상 바로가기">
            <span class="primary_text primary_text_xs">우동선생님, 이렇게 활동하세요!</span>
          </a>
        </div>
      </div>
    </div>
    <div id="m_container">
      <div class="visit_table">
        <h2 class="page_title">방문시간표</h2>
        <div class="notice">
          <div class="notice_bg">
            <span class="notice_text">시간표를 좌우로 움직여 방문일정을 확인해보세요!</span>
          </div>
        </div>

        <!-- time_schedule -->
        <div class="time_schedule">
          <!-- time_list -->
          <div class="time_list">
            <ul>
              <li class="title">8월</li>
              <li>08:00</li>
              <li>08:30</li>
              <li>09:00</li>
              <li>09:30</li>
              <li>10:00</li>
              <li>10:30</li>
              <li>11:00</li>
              <li>11:30</li>
              <li>12:00</li>
              <li>12:30</li>
              <li>13:00</li>
              <li>13:30</li>
              <li>14:00</li>
              <li>14:30</li>
              <li>15:00</li>
              <li>15:30</li>
              <li>16:00</li>
              <li>16:30</li>
              <li>17:00</li>
              <li>17:30</li>
              <li>18:00</li>
              <li>18:30</li>
              <li>19:00</li>
              <li>19:30</li>
              <li>20:00</li>
              <li>20:30</li>
              <li>21:00</li>
              <li>21:30</li>
              <li>22:00</li>
            </ul>
          </div>
          <!-- //time_list -->

          <!-- schedule -->
          <div class="schedule">
            <div class="schedule_box">
              <ul>
                <li class="title">
                  <span class="day">21</span>  
                  <span class="dayweek">월</span>
                </li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
              <ul>
                <li class="title">
                  <span class="day">22</span>  
                  <span class="dayweek">화</span>
                </li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
              <ul>
                <li class="title">
                  <span class="day">23</span>  
                  <span class="dayweek">수</span>
                </li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
              <ul>
                <li class="title">
                  <span class="day">24</span>  
                  <span class="dayweek">목</span>
                </li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
              <ul>
                <li class="title">
                  <span class="day">25</span>  
                  <span class="dayweek">금</span>
                </li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
              <ul>
                <li class="title saturday">
                  <span class="day">26</span>  
                  <span class="dayweek">토</span>
                </li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
              <ul>
                <li class="title sunday">
                  <span class="day">27</span>  
                  <span class="dayweek">일</span>
                </li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </div>
          <!-- //schedule -->
        </div>
        <!-- //time_schedule -->

      </div>
    </div>
  </div>

<script type="text/javascript">
  $(document).ready(function(){
    // 공통 gnb 열기/닫기
    $('.gnb_open').on('click', function (e) {
      e.stopPropagation();
      handleGndClose();

      $('#header').addClass('gnb_backdrop');
      $('#gnb').addClass('show');

      setTimeout(function () {
        $('#gnb').addClass('on');
      }, 100);

      // gnd 닫기
      function handleGndClose() {
        // gnb에서 클릭 시 버블링 막기
        $('#gnb').on('click', function (e) {
          e.stopPropagation();
        })

        // gnb를 제외한 body를 클릭
        $('body').on('click', function (e) {
          if ($('#header').hasClass('gnb_backdrop')) {
            $('#gnb').removeClass('on');
            setTimeout(function () {
              $('#gnb').removeClass('show');
              $('#header').removeClass('gnb_backdrop');
            }, 200);
          }
        })
      }
    });

    function swipeVisitTimeTable() {
      // Wt = width
      // Lct = location
      var visibleBoxWt = $('.schedule').innerWidth();
      var targetWt = visibleBoxWt / 3;
      var totalWt = targetWt * 7;

      $('.schedule_box').css({'width': totalWt + 'px'})
      $('.schedule_box ul').css({'width': targetWt + 'px'})

      $('.schedule_box').on('touchstart', function (e) {
        var startX = e.originalEvent.touches[0].clientX;
        var startY = e.originalEvent.touches[0].clientY;
        var dragX = 0;
        var dragY = 0;
        var positionX = $(this).position().left;
        var direction = ''

        // console.log({startX, positionX})
        $(document).on('touchmove', function (e) {
          dragX = e.originalEvent.touches[0].clientX - startX;
          dragY = e.originalEvent.touches[0].clientY - startY;

          console.log(dragX, dragY)

          if (direction == '') {
            if (Math.abs(dragX) > 5) {
              direction = 'horizon';
            } else if (Math.abs(dragY) > 5) {
              direction = 'vertical';
            }
          } else if (direction == 'horizon') {
            e.preventDefault();
            dragY = 0;
          } else if (direction === 'vertical') {
            dragX = 0;
          }
        }).on('touchend', function () {
          var moveRight = positionX - visibleBoxWt;
          var moveLeft = positionX + visibleBoxWt;

          if (direction == 'horizon') {
            if (dragX < -50) {
              if (positionX == totalWt - visibleBoxWt) return; // 박스가 마지막 슬라이드에 있으면 리턴

              $('.schedule_box').css({ 'left': moveRight + 'px' });
              return;
            } else if (dragX > 50) {
              if (positionX == 0) return; // 박스가 첫번째 슬라이드에 있으면 리턴

              $('.schedule_box').css({ 'left': moveLeft + 'px' });
              return;
            }
          }
          direction = ''
        });
      });
    }
    swipeVisitTimeTable();

  })
</script>
</body>
</html>