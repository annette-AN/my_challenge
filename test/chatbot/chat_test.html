<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta http-equiv="Content-Script-Type" content="text/javascript"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>	
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>
<!-- Cache reset -->		
<meta http-equiv="Expires" content="Mon, 06 Jan 2016 00:00:01 GMT"/>
<meta http-equiv="Expires" content="-1"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Cache-Control" content="no-cache"/>	
<!-- css -->
<link rel="stylesheet" type="text/css" href="../resources/css/font.css" />
<link rel="stylesheet" type="text/css" href="../resources/css/reset.css" />
<link rel="stylesheet" type="text/css" href="../resources/css/swiper.min.css" />
<link rel="stylesheet" type="text/css" href="../resources/css/bootstrap-datetimepicker.css" />
<link rel="stylesheet" type="text/css" href="../resources/css/bootstrap-datetimepicker-standalone.css" />
<link rel="stylesheet" type="text/css" href="../resources/css/chatbot.css" />
<link rel="stylesheet" type="text/css" href="../resources/css/western_grace.css" />
<!-- //css -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->	
<title>Chat || MindsLab</title>
</head>

<body>
	
<button type="button" id="btn_goChat">챗봇</button>
<!-- #chatUI_wrap -->
<div id="chatUI_wrap">
	<!-- .chatUI_top -->
	<div class="chatUI_top">
		<h1><img src="../resources/images/ico_mindsLab_120x120.png" alt="마인즈랩 챗봇"></h1>

        <div class="langBox">
            <p><button type="button" class="btn_lang" title="언어선택">언어선택</button></p>
            <ul class="lst_lang">
                <li><button type="button" class="btn_lang ico_ko active">한국어</button></li>
                <li><button type="button" class="btn_lang ico_en">English</button></li>
                <li><button type="button" class="btn_lang ico_zh_cn">中文(汉语)</button></li>
                <li><button type="button" class="btn_lang ico_ja">日本語</button></li>
            </ul>
        </div>
		<button type="button" class="btn_chatClose" title="close">close</button>
	</div>
	<!-- //.chatUI_top -->
	
	<!-- .chatUI_mid -->
	<div class="chatUI_mid">
		<ul class="lst_talk">
            <li class="bot">
				<!-- [D] 200207 문의남기기 -->
				<div class="bot_msg">
					<div class="btnLst"> 
						<span class="txt">아래 버튼 클릭시 문의를 남기실 수 있습니다.
							<a href="#" class="inquiry_btn">문의남기기</a>
						</span>
					</div>
					<div class="date">2019.08.14 12:00</div>
				</div>
			</li>

			<!--
				[D] promotion UI
				20200204 AMR (프로모션)
			-->
			<li class="bot bot_promotion">
				<div class="bot_msg">	
					<div class="generic"> 
						<span class="generic_img"><img src="../resources/images/sample/sample_swiper12.jpg" alt="프로모션 사진"></span>
						<span class="generic_tit">[프로모션]</span>
						<div class="txt">
							호텔에서 제공하는 'summer vacation 프로모션'을 확인하세요
							<a href="#" class="test_btn">프로모션 확인</a>
						</div>
					</div>
					<span class="txt">
						안녕하세요.<br>
						'메이필드 호텔'을 찾아주셔서 감사합니다.
					</span>
					<div class="btnItem"> 
						<ul>
							<li><a href="#">교통</a></li>
							<li><a href="#">조식</a></li>
							<li><a href="#">기본정보</a></li>
							<li><a href="#">레스토랑</a></li>
							<li><a href="#">홈&amp;어메니티</a></li>
							<li><a href="#">처음으로</a></li>
						</ul>
					</div>
					<div class="date">2019.08.14 12:00</div>
				</div>
			</li>
			
			<!-- [D] Swiper -->
			<li data-swiper-id="1" class="botMsg_swiper position_target">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<a class="swiper_item" href="#" target="_self"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper08.jpg" alt="이미지 명"></span>
							<span class="item_tit">상품 검색할래?</span>
							<span class="item_txt">찾고 싶은 상품을 바로 검색하세요.</span>
						</a>
					</div>
					<div class="swiper-slide">
						<a class="swiper_item" href="#" target="_self"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper07.jpg" alt="이미지 명"></span>
							<span class="item_tit">주문내역 조회하고 싶어</span>
							<span class="item_txt">배송 조회, 주문내역 조회 등 상품 구매와 관련된 질문을 해 주세요.</span>
						</a>
					</div>
					<div class="swiper-slide">
						<a class="swiper_item" href="#" target="_self"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper09.jpg" alt="이미지 명"></span>
							<span class="item_tit">포인트 조회는 어디서 해?</span>
							<span class="item_txt">포인트 조회, 포인트 제도에 대해 궁금하신 점을 물어보세요!</span>
						</a>
					</div>
					<div class="swiper-slide">
						<a class="swiper_item" href="#" target="_self"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper10.jpg" alt="이미지 명"></span>
							<span class="item_tit">어플은 어디서 다운받아?</span>
							<span class="item_txt">이제너두 전용 앱을 이용하시면 다양한 혜택을 받아보실 수 있습니다.</span>
						</a>
					</div>
					<div class="swiper-slide">
						<a class="swiper_item" href="#" target="_self"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper11.jpg" alt="이미지 명"></span>
							<span class="item_tit">여행 가고싶어!</span>
							<span class="item_txt">다양한 여행지의 패키지 상품, 항공권 그리고 호텔을 검색하세요!</span>
						</a>
					</div>
					<div class="swiper-slide">
						<a class="swiper_item" href="#" target="_self"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper12.jpg" alt="이미지 명"></span>
							<span class="item_tit">처음으로</span>
							<span class="item_txt">대화중에 처음으로 돌아가고 싶으시면 "처음으로"라고 말해주세요^^</span>
						</a>
					</div>
				</div>
				<!-- [D] Swiper Pagination -->
				<div class="swiper-pagination"></div>
				<!-- [D] Swiper navigation buttons -->
				<div class="swiper-button-prev"></div>
				<div class="swiper-button-next"></div>
			</li>

			<li class="user">
				<div class="bot_msg">					
					<em class="txt">스위트룸 보여주세요.</em>
					<div class="date">2019.08.14 12:00</div>
				</div>				
			</li>
			<!--
				[D] Swiper full_preview only image UI
				20200204 AMR (이미지만 있는 스와이퍼)
				image size : 600x400 권장 (6:4 필수)
			-->
			<li class="bot">
				<div class="bot_msg">				
					<div class="txt">가족 단위의 고객님들의 편안한 여행을 위한 스위트룸 입니다.</div>
				</div>
				<div data-swiper-id="2" class="botMsg_swiper full_preview">
					<div class="swiper-wrapper">
						<div class="swiper-slide">
							<a class="swiper_item" href="#" target="_self"> 
								<span class="item_img"><img src="../resources/images/sample/sample_swiper08.jpg" alt="이미지 명"></span>
							</a>
						</div>
						<div class="swiper-slide">
							<a class="swiper_item" href="#" target="_self"> 
								<span class="item_img"><img src="../resources/images/sample/sample_swiper07.jpg" alt="이미지 명"></span>
							</a>
						</div>
						<div class="swiper-slide">
							<a class="swiper_item" href="#" target="_self"> 
								<span class="item_img"><img src="../resources/images/sample/sample_swiper09.jpg" alt="이미지 명"></span>
							</a>
						</div>
						<div class="swiper-slide">
							<a class="swiper_item" href="#" target="_self"> 
								<span class="item_img"><img src="../resources/images/sample/sample_swiper10.jpg" alt="이미지 명"></span>
							</a>
						</div>
						<div class="swiper-slide">
							<a class="swiper_item" href="#" target="_self"> 
								<span class="item_img"><img src="../resources/images/sample/sample_swiper11.jpg" alt="이미지 명"></span>
							</a>
						</div>
						<div class="swiper-slide">
							<a class="swiper_item" href="#" target="_self"> 
								<span class="item_img"><img src="../resources/images/sample/sample_swiper12.jpg" alt="이미지 명"></span>
							</a>
						</div>
					</div>
					<!-- [D] Swiper Pagination -->
					<div class="swiper-pagination"></div>
					<!-- [D] Swiper navigation buttons -->
					<div class="swiper-button-prev"></div>
					<div class="swiper-button-next"></div>
				</div>
				<div class="btnItem"> 
					<ul>
						<li><a href="#">객실크기</a></li>
						<li><a href="#">침대타입 및 정원</a></li>
						<li><a href="#">객실정원</a></li>
						<li><a href="#">처음으로</a></li>
					</ul>
				</div>
				<div class="date">2019.08.14 12:00</div>
			</li>
			<!-- //chatBot UI -->
		</ul>
	</div>
	<!-- //.chatUI_mid -->
	
	<!-- .chatUI_btm -->
	<div class="chatUI_btm">
		<form method="post" action="" id="formChat" name="formChat">            
			<textarea class="textArea" rows="1" placeholder="메세지를 입력해 주세요"></textarea>
			<input type="submit" name="btn_chat" id="btn_chat" class="btn_chat" title="전송" value="전송">
		</form>
	</div>
	<!-- //#chatUI_btm -->
     
    <!-- [D] 지도 UI -->
    <div class="mapWrap map_hide">
        <div class="mapWrap_tit"> 
            <button class="btn_mapWrap_back">뒤로가기</button> 
            <div class="iptBox">
                <input type="text" id="startLctn" class="ipt_txt" value="출발지" autocomplete="off">
                <input type="text" id="endtLctn" class="ipt_txt" value="도착지" autocomplete="off">
                <button type="button" class="btn_lctn_change">출발지/도착지 전환</button>
            </div>  
            <button class="btn_mapWrap_close">닫기</button> 
        </div>
        <div class="mapWrap_cont"> 
            <div class="mapLoad_detailBox">
            <!-- [D] 지도 여기에 넣어주세요. -->  
            </div>
            <button class="btn_mapLoad_detail">상세경로보기</button>
        </div>
    </div>
	<!-- //[D] 지도 UI -->

	<!-- 
		[D] popup image area
		20200204 AMR 
	-->
	<div class="popup_swipe_backdrop">
		<div class="popup_swipe_preview">
			<div class="botMsg_swiper">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<div class="swiper_item">
							<span class="item_img"><img src="../resources/images/sample/sample_swiper08.jpg" alt="이미지 명"></span>
						</div>
					</div>
					<div class="swiper-slide">
						<div class="swiper_item"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper07.jpg" alt="이미지 명"></span>
						</div>
					</div>
					<div class="swiper-slide">
						<div class="swiper_item"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper09.jpg" alt="이미지 명"></span>
						</div>
					</div>
					<div class="swiper-slide">
						<div class="swiper_item"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper10.jpg" alt="이미지 명"></span>
						</div>
					</div>
					<div class="swiper-slide">
						<div class="swiper_item"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper11.jpg" alt="이미지 명"></span>
						</div>
					</div>
					<div class="swiper-slide">
						<div class="swiper_item"> 
							<span class="item_img"><img src="../resources/images/sample/sample_swiper12.jpg" alt="이미지 명"></span>
						</div>
					</div>
				</div>
				<!-- [D] Swiper Pagination -->
				<div class="swiper-pagination"></div>
				<!-- [D] Swiper navigation buttons -->
				<div class="swiper-button-prev"></div>
				<div class="swiper-button-next"></div>
				<button type="button" class="btn_popupClose"><em>팝업 닫기</em></button>
			</div>
		</div>
	</div>
	<!-- //popup image area -->
</div>
<!-- //#chatUI_wrap -->

<div class="chatAside">
	<div class="chat_reservation">
		<!-- .chatAside_hd -->
		<div class="chatAside_hd">
			<h3>간편 예약하기</h3>
			<button type="button" class="btn_chatAside_close" title="close">close</button>
		</div> 
		<!-- //.chatAside_hd -->
		<!-- .chatAside_bd -->
		<div class="chatAside_bd">
			<div class="stn_area">
				<div class="stnBox">
					<p class="txt">개인정보동의 약관</p>
					<div class="iptBox">
						<div class="checkBox">                                            
							<input type="checkbox" name="agreement" id="terms_check" class="ipt_check">
							<label for="terms_check">동의</label>
						</div>
					<button type="button" class="btn_terms" title="close">약관보기</button> 
					</div>
				</div>
				<div class="stnBox">
					<p class="txt">예약 정보 입력</p>
					<dl class="dlBox">
						<dt>이름</dt>
						<dd><input type="text" name="name" class="ipt_txt" placeholder="필수사항입니다"></dd>
					</dl>
					<dl class="dlBox">
						<dt>성별</dt>
						<dd>
							<div class="radioBox gender">                                   
								<input type="radio" name="gender" id="gender_man" class="ipt_check">
								<label for="gender_man">남자</label>
								<input type="radio" name="gender" id="gender_woman" class="ipt_check">
								<label for="gender_woman">여자</label>
							</div>
						</dd>
					</dl>
					<dl class="dlBox">
						<dt>전화번호</dt>
						<dd><input type="tel" name="tel" class="ipt_txt" placeholder="필수사항입니다"></dd>
					</dl>
					<dl class="dlBox">
						<dt>이메일</dt>
						<dd><input type="text" name="email" class="ipt_txt" placeholder="필수사항입니다"></dd>
					</dl>
					<dl class="dlBox picker">
						<dt>예약일시</dt>
						<dd class="block_target">
							<div class="container date_inaccessible">
								<div class="row">
									<div class='col-sm-6'>
										<!-- value 빼기 -->
										<input type='text' value="" placeholder="날짜와 시간을 선택해주세요" class="form-control ipt_txt" id='reservation_date' />
									</div>
								</div>
							</div>
						</dd>
						<dt class="box_hide">달력 표시 설명</dt>
						<dd class="pick_guide">
							<div>
								<div class="pick_guide01"></div>
								<span>오늘</span>
							</div>
							<div>
								<div class="pick_guide02"></div>
								<span>진료가능일</span>
							</div>
							<div>
								<div class="pick_guide03"></div>
								<span>진료일선택</span>
							</div>
						</dd>
					</dl>
					<dl class="dlBox">
						<dt>기타사항</dt>
						<dd class="block_target"><textarea name="add" rows="10" class="ipt_txt" placeholder="내용을 입력해주세요 (선택)"></textarea></dd>
					</dl>
				</div>
			</div>
			<div class="btnBox">
				<button type="submit" class="btn_point btn_submit">예약하기</button> 
			</div>
			
			<!--
				[D] 문의남기기 입력 완료(팝업)
				20200207 AMR 
			-->
			<div class="stnBox popup">
				<div class="popup_content">
					<div class="ico_circle">
						<img src="../resources/images/ico_success_74x.png" alt="완료">
					</div>
					<div class="popup_txt">
						<em>예약 접수 완료</em>
						<p>
							예약 접수가 완료되었습니다.<br>
							담당자가 확인 후 예약 확정 안내를<br>
							드릴 수 있도록 하겠습니다.
						</p>
					</div>
				</div>
			</div>

			<div class="stnBox info_text">
				<div class="content">
					<div class="txt_box">
						<em>약관</em>
						<div class="txt">
							<pre>
								챗봇을 처음 사용하시는군요 :)

								메이퓨어 챗봇서비스는 예약자 본인 인증 후 본인의 진료예약만 가능합니다.
								동행하시는 분은 예약 안되는 점 꼭 확인 부탁드립니다.

								앞으로 별도의 인증 없이 편리하게 사용하실 수 있도록, 최초 1회! 개인정보를 저장하려고 합니다.

								- 수집목록 : 이름, 휴대폰번호, 예약정보(메이퓨어의원)
								- 보유기간 : 법정기간 준수
								...

								개인정보 수집에 대하여 동의하시나요?(필수)

								챗봇을 처음 사용하시는군요 :)

								메이퓨어 챗봇서비스는 예약자 본인 인증 후 본인의 진료예약만 가능합니다.
								동행하시는 분은 예약 안되는 점 꼭 확인 부탁드립니다.

								앞으로 별도의 인증 없이 편리하게 사용하실 수 있도록, 최초 1회! 개인정보를 저장하려고 합니다.

								- 수집목록 : 이름, 휴대폰번호, 예약정보(메이퓨어의원)
								- 보유기간 : 법정기간 준수
								...

								개인정보 수집에 대하여 동의하시나요?(필수)

								챗봇을 처음 사용하시는군요 :)

								메이퓨어 챗봇서비스는 예약자 본인 인증 후 본인의 진료예약만 가능합니다.
								동행하시는 분은 예약 안되는 점 꼭 확인 부탁드립니다.

								앞으로 별도의 인증 없이 편리하게 사용하실 수 있도록, 최초 1회! 개인정보를 저장하려고 합니다.

								- 수집목록 : 이름, 휴대폰번호, 예약정보(메이퓨어의원)
								- 보유기간 : 법정기간 준수
								...

								개인정보 수집에 대하여 동의하시나요?(필수)

								챗봇을 처음 사용하시는군요 :)

								메이퓨어 챗봇서비스는 예약자 본인 인증 후 본인의 진료예약만 가능합니다.
								동행하시는 분은 예약 안되는 점 꼭 확인 부탁드립니다.

								앞으로 별도의 인증 없이 편리하게 사용하실 수 있도록, 최초 1회! 개인정보를 저장하려고 합니다.

								- 수집목록 : 이름, 휴대폰번호, 예약정보(메이퓨어의원)
								- 보유기간 : 법정기간 준수
								...

								개인정보 수집에 대하여 동의하시나요?(필수)
							</pre>
						</div>
					</div>
					<div class="btnBox">
						<button type="submit" class="btn_point">확인</button>
					</div>
				</div>
			</div>
		</div> 
		<!-- //.chatAside_bd -->
	</div>
</div>

<!-- script -->	
<script type="text/javascript" src="../resources/js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="https://kit.fontawesome.com/a076d05399.js"></script>
<script type="text/javascript" src="../resources/js/swiper.min.js"></script>

<script type="text/javascript" src="../resources/js/moment.js"></script>
<script type="text/javascript" src="../resources/js/moment.locale.ko.js"></script>
<script type="text/javascript" src="../resources/js/bootstrap-datetimepicker.js"></script>

<script type="text/javascript">
jQuery.event.add(window,"load",function(){
	$(document).ready(function (){
		// iframe 부모 도메인
		// document.domain = "127.0.0.1";
		
		// 날짜, 요일 시간 정의	
		var year  = new Date().getFullYear();  //현재 년도
		var month = new Date().getMonth()+1;  //현재 월
		var date  = new Date().getDate();  //현재 일
		var week  = new Array('일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'); //요일 정의
		var thisWeek  = week[new Date().getDay()];	//현재 요일

		var ampm = new Date().getHours() >= 12 ? '오후' : '오전';
		var	thisHours = new Date().getHours() >=13 ?  new Date().getHours()-12 : new Date().getHours(); //현재 시
		var	thisMinutes = new Date().getMinutes() < 10 ? '0' + new Date().getMinutes() : new Date().getMinutes(); //현재 분
		var NowTime = thisHours + ':' + thisMinutes;
		
		// 오늘 날짜 입력
		$('.lst_talk').each(function(){			
			$(this).prepend('<li class="newDate"><span>' + year + '년 ' + month +'월 ' + date +'일 ' + thisWeek + '</span></li>');
		});
		
		// chatbot open
		$('#btn_goChat').on('click', function(){
			$(this).addClass('goChat_hide');
			$('.chatGreeting').addClass('chatGreeting_hide');
			$('#chatUI_wrap').addClass('chatUI_show');
			$('#chatbot', parent.document).addClass('chatOpen');
			// $('.chatAside').addClass('aside_show');
			
			// 스크롤 하단으로 이동
			var scrollHeight = $('.lst_talk').height();

			$('.chatUI_mid').animate({
				scrollTop: scrollHeight
			},150);
			return false;
		});
		
		// chatbot close
		$('.btn_chatClose').on('click', function(){
			$('#btn_goChat').removeClass('goChat_hide');
			$('.chatGreeting').removeClass('chatGreeting_hide');
			$('#chatUI_wrap').addClass('chatUI_hide');
			$('#chatUI_wrap').removeClass('chatUI_show');
			// $('.chatAside').addClass('aside_hide');
			// $('.chatAside').removeClass('aside_show');
			setTimeout(function() {
				$('#chatbot', parent.document).removeClass('chatOpen');	
				$('#chatUI_wrap').removeClass('chatUI_hide');
				// $('.chatAside').removeClass('aside_hide');
			}, 0);
		});
		
		// 채팅입력 (Shift + Enter)
		$('.chatUI_btm .textArea').keyup(function(e) { 
			e.preventDefault(); 
			var scrollHeight = $('.lst_talk').height();
			var chatMidHeight = $('.chatUI_mid').height();
			var txtHeight = $('.chatUI_btm .textArea').height();
			var code = e.keyCode ? e.keyCode : e.which; if (code == 13) // EnterKey 
			
			{ 
				if (e.shiftKey === true) { 
					// shift + Enter
					$('.chatUI_mid').css({
						'height': chatMidHeight - 18,
					});
					$('.chatUI_btm .textArea').css({
						'height' : txtHeight + 18,
					});
					$('.chatUI_mid').animate({
						scrollTop: scrollHeight
					},150);
				} else { 
					// Enter
					$('.chatUI_btm #btn_chat').submit(); 
					$('.chatUI_btm .textArea').val('');
					$('.chatUI_mid').css({
						'height' : '',
					});
					$('.chatUI_btm .textArea').css({
						'height' : '',
					});
					$('.chatUI_mid').animate({
						scrollTop: scrollHeight
					},150);
				} 
				return false; 
			} 
		});

		// 20200131AMR language open
		var langLength = $('.langBox .lst_lang > li').length;
		if ( langLength === 1 ) {
			$('.langBox').remove();
		}
        
        // lang select
		$('.langBox p').on('click', function(){
			$(this).parents('.langBox').find('.lst_lang').toggleClass('show');
            $(this).toggleClass('active');
            
            $('.langBox .lst_lang .btn_lang').on('click', function(){
                var langCopy = $(this).clone();
                $('.langBox p').html(langCopy);
                $('.langBox p .btn_lang').hasClass('active');
                $('.langBox p .btn_lang').removeClass('active');
                $(this).parents('.lst_lang').hasClass('show');
                $(this).parents('.lst_lang').removeClass('show');
                $('.langBox .lst_lang .btn_lang').removeClass('active');
                $(this).addClass('active');
            });
		});
        
        //텍스트 속 버튼
		$('.txt').each(function(){	
            var txt_btn = $(this).find('a');
            var txt_btnLength = $(this).find('a').length;
            if (txt_btnLength > 1) {
                $(this).find('a').wrapAll('<div class="txt_btns"></div>');
            } else {
                $(this).find('a').wrapAll('<div class="txt_btn"></div>');
            }			
		});
        
        //191129
        //대화Type (출발지&도착지) 
        $('.dl_ipt .select').on('change', function(){
            if ($(this).val() == 'direct') {
                $(this).parent().find('.selboxDirect').show();
            } else {
                $(this).parent().find('.selboxDirect').hide();
            }
        });
        
        //지도UI
		$('.btn_map').on('click', function(){
			$('.mapWrap').show();
        });            
        $('.btn_mapWrap_close').on('click',function(){
            $('.mapWrap').removeClass('detailTransform');
            $('.mapWrap_tit .iptBox .ipt_txt').prop('disabled',false);
            $('.mapWrap').hide();
        });
        
		//지도UI (출발지&도착지 바꾸기)
		$('.mapWrap .mapWrap_tit').each(function(){		
            $('.btn_lctn_change').on('click', function(e){
                var startLctn = $('#startLctn').val();
                var endtLctn = $('#endtLctn').val();
                
                $(this).parent().find('#startLctn').val(endtLctn); 
                $(this).parent().find('#endtLctn').val(startLctn); 
            });
		});
        
        $('.btn_mapWrap_back').on('click',function(){
            $('.mapWrap').removeClass('detailTransform');
            $('.mapWrap_tit .iptBox .ipt_txt').prop('disabled',false);
        });
        
		$('.btn_mapLoad_detail').on('click', function(){
			$('.mapWrap').addClass('detailTransform');
            $('.mapWrap_tit .iptBox .ipt_txt').prop('disabled',true);
        });   
	});	
});	

</script>
<script>
/* mirye test */
$(document).ready(function(){
	/* 200304 AMR 데이트피커 
		문제 : 지나간 날과 시간에 <td class="disabled">가 추가되어야합니다
	*/
	$('#reservation_date').datetimepicker({
		locale: 'ko',
		inline: true,
		format: 'YYYY-MM-DD HH:mm dd',
		dayViewHeaderFormat: 'YYYY 년 MM 월',
		stepping: 30,
		daysOfWeekDisabled: [0],
		disabledDates: ['2020-01-01','2020-03-01','2020-05-01','2020-05-05','2020-06-06','2020-08-15','2020-10-03','2020-10-09','2020-12-25'],
			// 01-01 새해(신정), 03-01 삼일절, 05-01 근로자의날, 05-05 어린이날, 06-06 현충일, 08-15 광복절, 10-03 개천절, 10-09 한글날, 12-25 크리스마스
			// 설날(구정)				음력 1월 1일
			// 석가탄신일(부처님오신날)	 음력 4월 8일
			// 추석						음력 8월 15일
		disabledHours: [0,1,2,3,4,5,6,7,8,20,21,22,23],
		icons: {
            time: 'glyphicon glyphicon-time',
            date: 'glyphicon glyphicon-calendar',
            up: 'glyphicon glyphicon-chevron-up',
            down: 'glyphicon glyphicon-chevron-down',
            previous: 'glyphicon glyphicon-chevron-left',
            next: 'glyphicon glyphicon-chevron-right',
            today: 'glyphicon glyphicon-screenshot',
            clear: 'glyphicon glyphicon-trash',
            close: 'glyphicon glyphicon-remove'
        }
	});

	/* 200217 AMR popup swiper preview open */
	function handleSwipePopupPreviewOpenClose() {
		//open
		$('.full_preview .swiper_item').on('click', function(e){
			$('.popup_swipe_backdrop').addClass('popup_active');
			var slideIndex = $('.full_preview .swiper-slide').index($(this).parent());
			var thisSlide = slideIndex;
			var swiper = applySwiper($('.popup_swipe_backdrop .botMsg_swiper'), { slidesPerView:1, initialSlide: thisSlide, });

			//close (btn click)
			function handleClose(){
				e.stopPropagation();
				swiper.destroy()
				$('.popup_swipe_backdrop .popup_swipe_preview').off('click');
				$('.popup_swipe_backdrop').removeClass('popup_active');
				$('.btn_popupClose').off('click', handleClose);
				$('.popup_swipe_backdrop').off('click');
			}

			$('.btn_popupClose').on('click', handleClose);

			$('.popup_swipe_backdrop .popup_swipe_preview').on('click', function(e){
				e.stopPropagation();
			});

			//close (영역 밖 click)
			$('.popup_swipe_backdrop').on('click', function(){
				if ( $(this).hasClass('popup_active') ) {
					handleClose();
				}
			});
		});
	}
	handleSwipePopupPreviewOpenClose();

	/* 200226 AMR chatAside */
	function handleChatAside(targetBtn) {
		var $chatAside = $('.chatAside');

		//aside open
		targetBtn.on('click', function(){
			$chatAside.addClass('aside_show');
			// window.parent.postMessage("aside_area", "*");
			$('#chatbot', parent.document).addClass('aside_area');
		});

		// submit btn
		$('.btn_submit').on('click', function(){
			var $thisChatAside = $(this).parents($chatAside);

			if ( !$thisChatAside.find('input[name="agreement"]').is(':checked') ) {
				alert('개인정보 약관에 동의해주세요');
				return;
			}
			if ( !$thisChatAside.find('input[name="name"]').val().trim() ) {
				alert('이름을 입력해주세요');
				return;
			}
			if ( !$thisChatAside.find('input[name="gender"]').is(':checked') ) {
				alert('성별을 선택해주세요');
				return;
			}
			if ( !$thisChatAside.find('input[name="tel"]').val().trim() ) {
				alert('연락처를 입력해주세요');
				return;
			}
			if ( !$thisChatAside.find('input[name="email"]').val().trim() ) {
				alert('이메일을 입력해주세요');
				return;
			}
			if ( !$thisChatAside.find('input[name="datetime"]').val().trim() ) {
				alert('날짜를 선택해주세요');
				return;
			}
			if ( !$thisChatAside.find('textarea[name="inquiry"]').val() ) {
				alert('요청사항을 입력해주세요');
				return;
			}
			$thisChatAside.find('.chatAside_bd').addClass('success_screen');
		});

		// close (input value 초기화 및 창 닫힘)
		$('.btn_chatAside_close').on('click', function(){
			// window.parent.postMessage("remove_aside_area", "*");
			$('#chatbot', parent.document).removeClass('aside_area');

			$(this).parents($chatAside).removeClass('aside_show').find('.chatAside_bd').removeClass('success_screen');
			$(this).parents($chatAside).find('input[type="text"], input[type="number"], textarea').val('');
			$(this).parents($chatAside).find('input[type="checkbox"], input[type="radio"]').removeAttr('checked');
		});

		/* 추가 200306 AMR 약관보기 open */
		$chatAside.find('.btn_terms').on('click', function(){
			$(this).parents('.chatAside_bd').addClass('info_screen');
		});

		$chatAside.find('.info_text .btn_point').on('click', function(){
			$(this).parents('.chatAside_bd').removeClass('info_screen');
			$chatAside.find('input[name="agreement"]').attr('checked', '')
		});
	}
	handleChatAside($('.inquiry_btn'));
	handleChatAside($('.test_btn'));

	//200217 AMR 접속 디바이스 확인
	function checkDevice() {
		var navigatorUA = navigator.userAgent;
		var AgentUserOs = navigatorUA.replace(/ /g,'');
		var OSName = '';

		new function() {
			var OsNo = navigator.userAgent.toLowerCase(); 
			jQuery.os = {
				Linux: /linux/.test(OsNo),
				Unix: /x11/.test(OsNo),
				Mac: /mac/.test(OsNo),
				Windows: /win/.test(OsNo)
			}
		}

		if($.os.Windows) {
			if(AgentUserOs.indexOf("Safari") != -1) OSName="Safari";
			if(AgentUserOs.indexOf("Chrome") != -1) OSName="Chrome";
			if(AgentUserOs.indexOf("OPR") != -1) OSName="opera";
			if(AgentUserOs.indexOf("Firefox") != -1) {OSName="firefox";}
			if(AgentUserOs.indexOf("Edge") != -1) {OSName="Edge";}

			if(AgentUserOs.indexOf("WOW64") != -1) {
				if(AgentUserOs.indexOf("rv:11") != -1) {OSName="IE 11";}
				if(AgentUserOs.indexOf("MSIE10") != -1) {OSName="IE 10";}
				if(AgentUserOs.indexOf("MSIE9") != -1) {OSName="IE 9";}
			}
		} else if ($.os.Linux) {
			if(AgentUserOs.indexOf("Android") != -1) {OSName="Android";}
			else if(AgentUserOs.indexOf("SAMSUNG") != -1) {OSName="samsung";}
			else if(AgentUserOs.indexOf("samsung") != -1) {OSName="samsung";}
			else if(AgentUserOs.indexOf("LG") != -1) {OSName="LG";}
			else if(AgentUserOs.indexOf("lgtelecom") != -1) {OSName="LG";}
			else if(AgentUserOs.indexOf("BlackBerry") != -1) OSName="BlackBerry";
			else if(AgentUserOs.indexOf("BlackBerry;Opera Mini") != -1) OSName="BlackBerry Opera/9.80";
			else if(AgentUserOs.indexOf("Symbian") != -1) OSName="Symbian";
			else if(AgentUserOs.indexOf("Ubuntu") != -1) OSName="Ubuntu";
			else if(AgentUserOs.indexOf("PDA") != -1) OSName="PDA";
		}
		else if ($.os.Unix) {OSName="UNIX";}
		else if ($.os.Mac) {
			if(AgentUserOs.indexOf("iPhone") != -1) {
				if(AgentUserOs.indexOf("iPhoneOS3") != -1) OSName="iPhone OS 3";
				else if(AgentUserOs.indexOf("iPhoneOS4") != -1) OSName="iPhone OS 4";
				else if(AgentUserOs.indexOf("iPhoneOS5") != -1) OSName="iPhone OS 5";
				else if(AgentUserOs.indexOf("iPhoneOS6") != -1) OSName="iPhone OS 6";
				else OSName="iPhone"; 
			}
			else if(AgentUserOs.indexOf("iPad") != -1) {OSName="iPad";}
			else if(AgentUserOs.indexOf("MacOS") != -1) {
				if(AgentUserOs.indexOf("Macintosh") != -1) OSName="Macintosh"; 
			} else {OSName="MacOS";}
		}
		else {OSName="OS (we should find this OS)";}

		console.log(OSName,'OSName')
	}
	checkDevice()
});
</script>
<script type="text/javascript">
// swiper
function applySwiper (selector, option) {
	var defaultOption = {
		speed : 200,
		slidesPerView:2,
		spaceBetween: 10,
		centeredSlides: false,
		pagination: {
			el: '.swiper-pagination',
			clickable: true,
		},
		navigation: {
		nextEl: '.swiper-button-next',
		prevEl: '.swiper-button-prev',
		},
	}
	return new Swiper(selector, $.extend(defaultOption, option))
}

// 이미지 스와이퍼가 HTML에 새로 생길때마다 함수를 호출해 주어야 합니다.
applySwiper($('[data-swiper-id="1"]'), { slidesPerView:2 });
applySwiper($('[data-swiper-id="2"]'), { slidesPerView:1 });

</script>	
<!-- script -->		
</body>
</html>
